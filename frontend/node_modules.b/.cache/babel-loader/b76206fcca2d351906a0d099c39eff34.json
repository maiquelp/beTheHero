{"ast":null,"code":"import { toPattern as r } from \"vanilla-masker\";\n\nvar n = {\n  fallback: {\n    currency: \"BRL\"\n  },\n  \"pt-BR\": {\n    currency: \"BRL\"\n  }\n},\n    e = {\n  currency: function (r, e) {\n    void 0 === e && (e = {\n      language: window.navigator.language\n    });\n\n    var t = e.language,\n        c = function (r, n) {\n      var e = {};\n\n      for (var t in r) Object.prototype.hasOwnProperty.call(r, t) && -1 === n.indexOf(t) && (e[t] = r[t]);\n\n      return e;\n    }(e, [\"language\"]);\n\n    return Number(parseFloat(r.indexOf(\".\") > -1 ? r : r / 100)).toLocaleString(t, Object.assign({}, {\n      style: \"currency\",\n      currency: n[t] ? n[t].currency : n.fallback.currency,\n      currencyDisplay: \"symbol\",\n      minimumFractionDigits: 2\n    }, c));\n  },\n  percent: function (r) {\n    return r && parseFloat(r).toFixed(2).replace(\".\", \",\").replace(/(\\d)(?=(\\d{3})+,)/g, \"$1.\") + \" %\";\n  }\n},\n    t = function (r, n) {\n  return r.replace(\"currency\" === n ? /\\D/g : /\\W/g, \"\");\n},\n    c = function (n, e, t) {\n  return r(n, Object.assign({}, {\n    pattern: e\n  }, t));\n},\n    a = function (r, n, a) {\n  return \"string\" == typeof n ? e[n] ? e[n](r || \"\", a) : c(r, n || \"\", a) : function (r, n, e) {\n    return c(r, n.reduce(function (n, e) {\n      return r.length <= t(n).length ? n : e;\n    }, n[0]), e);\n  }(r, n, a);\n};\n\nexport { t as unMask, a as mask };","map":{"version":3,"sources":["../src/index.js"],"names":["intl","fallback","currency","patterns","value","ref","language","window","navigator","Number","parseFloat","indexOf","toLocaleString","Object","style","currencyDisplay","minimumFractionDigits","options","percent","toFixed","replace","unMask","pattern","masker","toPattern","reduce","memo","length","mask","maskChoose"],"mappings":"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","sourcesContent":["import { toPattern } from 'vanilla-masker'\n\nconst intl = {\n\tfallback: {\n\t\tcurrency: 'BRL',\n\t},\n\n\t'pt-BR': {\n\t\tcurrency: 'BRL',\n\t},\n}\n\nconst patterns = {\n\tcurrency: (\n\t\tvalue,\n\t\t{ language, ...options } = { language: window.navigator.language }\n\t) =>\n\t\tNumber(\n\t\t\tparseFloat(value.indexOf('.') > -1 ? value : value / 100)\n\t\t).toLocaleString(language, {\n\t\t\tstyle: 'currency',\n\t\t\tcurrency: intl[language]\n\t\t\t\t? intl[language].currency\n\t\t\t\t: intl.fallback.currency,\n\t\t\tcurrencyDisplay: 'symbol',\n\t\t\tminimumFractionDigits: 2,\n\t\t\t...options,\n\t\t}),\n\n\tpercent: value =>\n\t\tvalue &&\n\t\t`${parseFloat(value)\n\t\t\t.toFixed(2)\n\t\t\t.replace('.', ',')\n\t\t\t.replace(/(\\d)(?=(\\d{3})+,)/g, '$1.')} %`,\n}\n\nexport const unMask = (value, pattern) =>\n\tpattern === 'currency' ? value.replace(/\\D/g, '') : value.replace(/\\W/g, '')\n\nconst masker = (value, pattern, options) =>\n\ttoPattern(value, { pattern, ...options })\n\nconst maskChoose = (value, patterns, options) =>\n\tmasker(\n\t\tvalue,\n\t\tpatterns.reduce(\n\t\t\t(memo, pattern) => (value.length <= unMask(memo).length ? memo : pattern),\n\t\t\tpatterns[0]\n\t\t),\n\t\toptions\n\t)\n\nexport const mask = (value, pattern, options) =>\n\ttypeof pattern === 'string'\n\t\t? patterns[pattern]\n\t\t\t? patterns[pattern](value || '', options)\n\t\t\t: masker(value, pattern || '', options)\n\t\t: maskChoose(value, pattern, options)\n"]},"metadata":{},"sourceType":"module"}